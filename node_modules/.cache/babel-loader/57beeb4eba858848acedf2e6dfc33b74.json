{"ast":null,"code":"import _regeneratorRuntime from\"D:/Project/Hello_News/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Project/Hello_News/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Project/Hello_News/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Project/Hello_News/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Project/Hello_News/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Project/Hello_News/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(){var _this;_classCallCheck(this,News);_this=_super.call(this);_this.handlePrevClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Previous\");url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=e6e6ae37c9514bb5a961ca6ff2e17591&page=\").concat(_this.state.page-1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context.next=5;return fetch(url);case 5:data=_context.sent;_context.next=8;return data.json();case 8:parsedData=_context.sent;console.log(parsedData);_this.setState({page:_this.state.page-1,articles:parsedData.articles,loading:false});case 11:case\"end\":return _context.stop();}}},_callee);}));_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"Next\");if(_this.state.page+1>Math.ceil(_this.state.totalResults/_this.props.pageSize)){_context2.next=11;break;}url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=e6e6ae37c9514bb5a961ca6ff2e17591&page=\").concat(_this.state.page+1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context2.next=6;return fetch(url);case 6:data=_context2.sent;_context2.next=9;return data.json();case 9:parsedData=_context2.sent;_this.setState({page:_this.state.page+1,articles:parsedData.articles,loading:false});case 11:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={articles:[],loading:false,page:1};return _this;}_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=e6e6ae37c9514bb5a961ca6ff2e17591&page=1&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;console.log(parsedData);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 10:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",style:{margin:'35px 0px'},children:\"Hello News - Top Headlines\"}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.loading&&this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn-dark\",onClick:this.handlePrevClick,children:\" \\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),type:\"button\",className:\"btn btn-dark\",onClick:this.handleNextClick,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:'in',pageSize:6,category:'general'};export default News;","map":{"version":3,"sources":["D:/Project/Hello_News/src/components/News.js"],"names":["React","Component","NewsItem","Spinner","News","handlePrevClick","console","log","url","props","country","category","state","page","pageSize","setState","loading","fetch","data","json","parsedData","articles","handleNextClick","Math","ceil","totalResults","margin","map","element","title","description","urlToImage","author","publishedAt","source","name","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport NewsItem from './NewsItem'\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types'\n\n\nexport class News extends Component {\n    static defaultProps = {\n        country: 'in',\n        pageSize: 6, \n        category: 'general',\n      }\n\n      static propTypes = {\n        country: PropTypes.string,\n        pageSize: PropTypes.number, \n        category: PropTypes.string,\n      }\n\n    constructor(){\n        super();\n        this.state = {\n            articles: [],\n            loading: false,\n            page:1\n        }\n    }\n\n    async componentDidMount(){ \n        let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=e6e6ae37c9514bb5a961ca6ff2e17591&page=1&pageSize=${this.props.pageSize}`;\n        this.setState({loading: true});\n        let data = await fetch(url);\n        let parsedData = await data.json()\n        console.log(parsedData); \n        this.setState({articles: parsedData.articles,\n            totalResults: parsedData.totalResults,\n            loading: false})\n    }\n\n     handlePrevClick = async ()=>{\n        console.log(\"Previous\");\n        let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=e6e6ae37c9514bb5a961ca6ff2e17591&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n        this.setState({loading: true});\n        let data = await fetch(url);\n        let parsedData = await data.json()\n        console.log(parsedData);  \n        this.setState({\n            page: this.state.page - 1,\n            articles: parsedData.articles,\n            loading: false\n        })\n\n    }\n    \n     handleNextClick = async ()=>{\n        console.log(\"Next\"); \n        if (!(this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize))){\n            let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=e6e6ae37c9514bb5a961ca6ff2e17591&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n            this.setState({loading: true});\n            let data = await fetch(url);\n            let parsedData = await data.json() \n            this.setState({\n                page: this.state.page + 1,\n                articles: parsedData.articles,\n                loading: false\n            })\n    }\n        }\n\n    render() { \n        return (\n            <div className=\"container my-3\">\n                <h1 className=\"text-center\" style={{margin: '35px 0px'}}>Hello News - Top Headlines</h1>\n                {this.state.loading && <Spinner/>}\n                <div className=\"row\"> \n                {!this.state.loading && this.state.articles.map((element)=>{\n                    return <div className=\"col-md-4\" key={element.url}>\n                        <NewsItem title={element.title?element.title:\"\"} description={element.description?element.description:\"\"} imageUrl={element.urlToImage} newsUrl={element.url} author={element.author} date={element.publishedAt} source={element.source.name}/>\n                    </div> \n                })} \n                </div> \n                <div className=\"container d-flex justify-content-between\">\n                <button disabled={this.state.page<=1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick}> &larr; Previous</button>\n                <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default News\n"]},"metadata":{},"sourceType":"module"}